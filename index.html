<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Auto Speech</title>
  </head>
  <body>
    <audio id="myAudio" src="" autoplay muted></audio>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get("id");

        const audio = document.getElementById("myAudio");

        if (id) {
          audio.src = `MP3s/${id}.mp3`;
          audio.play().catch((err) => {
            console.log("Autoplay prevented", err.message);
          });
        } else {
          document.body.insertAdjacentHTML(
            "beforeend",
            "<p>Sorry, No ID provided!</p>"
          );
        }
      });

      document.addEventListener("click", () => {
        const audio = document.getElementById("myAudio");
        audio.muted = false;
        audio.play();
      });
    </script>
  </body>
</html>
